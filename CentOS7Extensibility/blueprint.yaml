name: CentOS7Extensibility
version: 1
inputs:
  username:
    type: string
    title: Username
resources:
  Cloud_Machine_1:
    type: Cloud.Machine
    properties:
      image: CentOS7
      flavor: Lab-Medium
      newname: '${self.resourceName} (${input.username})'
      storage:
        constraints:
          - tag: 'Storage:SSD'
      networks:
        - network: '${resource.Cloud_Network_1.id}'
          assignment: static
      constraints:
        - tag: 'Host:Lab'
  Cloud_Network_1:
    type: Cloud.Network
    properties:
      networkType: existing
      name: LabVMNetwork
      constraints:
        - tag: 'NW:Lab'
